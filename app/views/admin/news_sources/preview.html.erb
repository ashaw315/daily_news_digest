<div class="admin-main">
  <h1 class="page-title">Preview: <%= @source.name %></h1>
  
  <% if @articles && @articles.any? %>
    <div class="admin-card">
      <div class="admin-card-title">Sample Articles</div>
      <div>
        <% @articles.each do |article| %>
          <div class="admin-card" style="margin-bottom: 18px;">
            <div>
              <h3 class="topic-heading" style="margin-bottom: 6px;"><%= article[:title] %></h3>
              <div class="text-muted" style="margin-bottom: 6px;">
                <%= article[:published_at]&.strftime('%B %d, %Y') %>
                <% if article[:topic].present? %>
                  <span class="status-badge status-active" style="margin-left: 10px;"><%= article[:topic] %></span>
                <% end %>
              </div>
              <div class="article-summary" style="margin-bottom: 10px;">
                <h6 class="helper-text" style="margin-bottom: 4px;">Article Summary:</h6>
                <div class="p-3 bg-light rounded" style="background: #f8f8f8; border-radius: 6px; padding: 12px;">
                  <%= simple_format(article[:description]) %>
                </div>
              </div>
              <div>
                <a href="<%= article[:url] %>" target="_blank" class="admin-btn admin-btn-secondary" style="margin-right: 10px;">
                  Read Full Article
                </a>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="admin-card">
      <div class="alert alert-warning">
        No articles found from this source. Please check the source URL and format settings.
      </div>
    </div>
  <% end %>
  
  <div style="margin-top: 18px;">
    <%= link_to 'Edit Source', edit_admin_news_source_path(@source), class: 'admin-btn admin-btn-secondary', style: "margin-right: 10px;" %>
    <%= link_to 'Back', admin_news_sources_path, class: 'admin-btn admin-btn-secondary' %>
  </div>
</div>