<!DOCTYPE html>
<html>
<head>
  <title>Daily News Digest | Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
  <%= stylesheet_link_tag 'application', media: 'all' %>
  <%= javascript_importmap_tags %>
</head>
<body class="admin-body">
  <div class="admin-container">
    <div class="admin-sidebar">
      <div class="admin-sidebar-header">
        <h1 class="admin-logo">DND</h1>
        <h2 class="admin-title">Administration</h2>
      </div>
      
      <nav class="admin-nav">
        <ul>
          <li class="admin-nav-item">
            <%= link_to admin_dashboard_path, class: "admin-nav-link #{current_page?(admin_dashboard_path) ? 'active' : ''}" do %>
              <span class="nav-icon">◆</span> Dashboard
            <% end %>
          </li>
          <li class="admin-nav-item">
            <%= link_to admin_news_sources_path, class: "admin-nav-link #{controller_name == 'news_sources' ? 'active' : ''}" do %>
              <span class="nav-icon">◆</span> News Sources
            <% end %>
          </li>
          <li class="admin-nav-item">
            <%= link_to admin_users_path, class: "admin-nav-link #{controller_name == 'users' ? 'active' : ''}" do %>
              <span class="nav-icon">◆</span> Users
            <% end %>
          </li>
          <li class="admin-nav-item">
            <%= link_to admin_email_metrics_path, class: "admin-nav-link #{controller_name == 'email_metrics' ? 'active' : ''}" do %>
              <span class="nav-icon">◆</span> Email Metrics
            <% end %>
          </li>
          <li class="admin-nav-divider"></li>
          <li class="admin-nav-item">
            <%= link_to root_path, class: "admin-nav-link" do %>
              <span class="nav-icon">←</span> Back to Site
            <% end %>
          </li>
          <li class="admin-nav-item">
            <%= link_to destroy_user_session_path, data: { turbo_method: :delete }, class: "admin-nav-link" do %>
              <span class="nav-icon">✕</span> Sign Out
            <% end %>
          </li>
        </ul>
      </nav>
    </div>
    
    <div class="admin-content">
      <div class="admin-header">
        <h2 class="page-title"><%= content_for?(:title) ? yield(:title) : controller_name.titleize %></h2>
        <% if content_for?(:header_actions) %>
          <div class="header-actions">
            <%= yield(:header_actions) %>
          </div>
        <% end %>
      </div>

      <% if notice %>
        <div class="alert alert-success"><%= notice %></div>
      <% end %>
      <% if alert %>
        <div class="alert alert-danger"><%= alert %></div>
      <% end %>
      
      <div class="admin-main">
        <%= yield %>
      </div>
      
      <footer class="admin-footer">
        <p>© <%= Date.today.year %> Daily News Digest Admin</p>
      </footer>
    </div>
  </div>
</body>
</html>